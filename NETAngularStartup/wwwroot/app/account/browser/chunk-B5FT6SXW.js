import{b as a,c as s,h as p,j as i,k as f,l as A,v as x}from"./chunk-IQZ6UM2A.js";import{$ as d,X as T,ac as m}from"./chunk-EURR6JOP.js";import{a as r,b as n}from"./chunk-WWX6BADO.js";var $={start_search_key:"",tag_type:0,type:0,tag_level:3,isapproved:2,isenabled:2,isarchive:2,isdraft:2,dateFilter:0,order:"tag.id desc",pagenumber:1,pagesize:21},P={id:0,title:"",term:"",isenabled:0,tag_level:0,tag_type:0,type:0,records:0},c={root:"api/tags",load:"api/tags/load",info:"api/tags/getinfo",proc:"api/tags/proc",action:"api/tags/action"};var b=class t{http=d(m);config=d(x);constructor(){}LoadRecords(e){let o=`${this.config.apiUrl}${c.load}`;return this.http.post(o,e)}GetInfo(e){e.skip_record_stats=!0;let o=`${this.config.apiUrl}${c.info}`;return this.http.post(o,e)}ProcessRecord(e){let o=`${this.config.apiUrl}${c.proc}`;return this.http.post(o,e)}ProcessActions(e,o){let l=`${this.config.apiUrl}${c.action}`,R=e.map(h=>n(r({},h),{actionstatus:o}));return this.http.post(l,R)}static \u0275fac=function(o){return new(o||t)};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})};var g=A(),M=g.getInitialState({records:0,loading:!1,error:null}),_=a("[Tags] Load Tags",s()),y=a("[Tags] Load Tags Success",s()),I=a("[Tags] Load Tags Failure",s()),V=a("[Tags] Add Tags",s()),S=a("[Tags] Add Tags Success",s()),W=a("[Tags] Add Tags Failure",s()),E=a("[Tags] Action Tags",s()),v=a("[Tags] Add Tags Action Success",s()),X=a("[Tags] Add Tags Action Failure",s()),Z=f(M,i(_,t=>n(r({},t),{loading:!0,error:null})),i(y,(t,{Tags:e,records:o})=>g.setAll(e,n(r({},t),{records:o,loading:!1}))),i(I,(t,{error:e})=>n(r({},t),{loading:!1,error:e})),i(S,(t,{Tag:e})=>g.addOne(e,t)),i(E,t=>n(r({},t),{loading:!0,error:null})),i(v,(t,{entities:e,actionstatus:o})=>o==="delete"?g.removeMany(e.map(l=>l.id),n(r({},t),{loading:!1})):g.updateMany(e.map(l=>({id:l.id,changes:r({},l)})),n(r({},t),{loading:!1})))),u=t=>t.tag,tt=p(u,t=>g.getSelectors().selectAll(t)),et=p(u,t=>t.loading),ot=p(u,t=>t.records);export{$ as a,P as b,b as c,_ as d,y as e,I as f,V as g,S as h,W as i,E as j,v as k,X as l,Z as m,tt as n,et as o,ot as p};
