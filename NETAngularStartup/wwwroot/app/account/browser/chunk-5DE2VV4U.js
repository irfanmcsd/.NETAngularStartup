import{a as T,b as Ue,c as Qe,d as G,e as O,k as H,o as ze,p as $e,q as je}from"./chunk-T6V3JSE5.js";import{a as Ne}from"./chunk-TOYSTB67.js";import{a as Ve}from"./chunk-QWIGCCEX.js";import{a as Oe}from"./chunk-LPJ56NT7.js";import{a as Le}from"./chunk-6NY67VQD.js";import{a as Fe,c as Ae}from"./chunk-IPHKMWFL.js";import"./chunk-NNQMNV6J.js";import{A as Te,B as ke,C as A,E as j,G as Pe,M as Re,g as fe,m as he,t as Ce,v as F,w as $,x as Ie,y as De,z as Me}from"./chunk-IQZ6UM2A.js";import{$ as f,$a as I,Aa as ee,Ba as r,Bb as M,Cb as Q,Db as z,Ec as L,Fc as Ee,Ha as te,Ia as ie,La as p,Oa as a,Ob as le,Qb as de,Rb as ce,S as B,Sb as _e,T as N,Tb as pe,Vb as me,Wb as ve,X as Y,Xa as n,Xb as ue,Y as K,Ya as o,Za as g,_a as E,bb as h,c as J,db as u,eb as d,fc as ge,ha as m,hb as ne,hc as xe,ia as v,ib as U,jc as be,kc as ye,mc as R,pb as s,pc as Se,qb as S,rb as w,sb as oe,sc as we,tb as re,ub as ae,vb as se,wc as Be,xb as x,za as Z}from"./chunk-EURR6JOP.js";import{a as C,b as X}from"./chunk-WWX6BADO.js";var k=class t{config=f(F);coreService=f(A);constructor(){}generateControls(i,e){let c=[],l=!1,_=!0;i.id>0&&(l=!0,_=!1);let V=300,q=300;if(e.length>0){let P=e[0].configs.settings.blog;V=P.thumbWidth,q=P.thumbHeight}let We={cropped_picture:i.cover,croptype:1,upload_id:"cover_upload",colcss:"col-md-12",settings:{width:V,height:q},uploadbtntext:"Upload Cover",btncss:"btn btn-outline-success px-5 radius-30 mt-3 mb-3"};c.push(new Me({key:"cover",label:"",value:i.cover,required:!1,cropperOptions:We,order:1}));let Xe=i.blog_data.title;c.push(new $({key:"title",label:"Slug",placeholder:"Enter term to generate slug",value:Xe,required:!0,minLength:3,maxLength:150,order:1,labelGenerator:_,helpblock:""})),c.push(new Te({key:"term",value:i.term,options:[{rawText:"",slug:i.term,isupdate:l,type:2}],isVisible:!0,order:2}));let W={type:1,cultures:[],data:i.blog_culture_data};e.length>0&&(W.cultures=e[0].configs.cultures),c.push(new ke({key:"blog_culture_data",categoryOptions:W,tinymiceOptions:this.coreService.prepareInitAdvacneEditorSettings(),required:!1,order:5,helpblock:""}));let D=this.coreService.getMultiCategorySettings();D.categorytype=2,D.dropdown_type=1,D.isparentchild=!0,D.manualload=!1,c.push(new Ie({key:"categorylist",label:"Select Categories",categoryOptions:this.coreService.prepareSelectedItems(i.categorylist),multiselectOptions:D,required:!1,helpblock:"Please select one or more categories.",order:6})),c.push(new $({key:"tags",label:"Labels",value:i.tags,required:!1,order:7,maxLength:500,helpblock:"Please enter one or more tags, separated by commas."}));let Je=[{key:"1",value:"Draft"},{key:"0",value:"Publish"}];return c.push(new De({key:"isdraft",label:"Publish Status",required:!0,value:i.isdraft.toString(),options:Je,colsize:"col-md-4 col-sm-6",order:9})),c.sort((P,Ye)=>P.order-Ye.order)}static \u0275fac=function(e){return new(e||t)};static \u0275prov=Y({token:t,factory:t.\u0275fac})};var b=t=>[t];function Ke(t,i){t&1&&(n(0,"div"),g(1,"app-norecord",1),o()),t&2&&(r(),a("message","Access Restricted"))}function Ze(t,i){t&1&&(n(0,"span",31),s(1," Inactive "),o())}function et(t,i){t&1&&(n(0,"span",32),s(1," Active "),o())}function tt(t,i){t&1&&(n(0,"span",31),s(1," Pending Approval "),o())}function it(t,i){t&1&&(n(0,"span",31),s(1," Arachive "),o())}function nt(t,i){t&1&&(n(0,"span",32),s(1," Featured "),o())}function ot(t,i){if(t&1){let e=h();n(0,"tr"),g(1,"td"),n(2,"td"),s(3),o(),n(4,"td")(5,"h6",17)(6,"a",18),s(7),o()(),n(8,"p",19),s(9),M(10,"date"),n(11,"a",18),s(12),o()()(),n(13,"td"),E(14,20),p(15,Ze,2,0,"span",21)(16,et,2,0,"span",22),I(),E(17,20),p(18,tt,2,0,"span",21),I(),E(19,20),p(20,it,2,0,"span",21),I(),E(21,20),p(22,nt,2,0,"span",22),I(),o(),n(23,"td")(24,"div",23)(25,"div",24),g(26,"i",25),o(),n(27,"ul",26)(28,"li")(29,"a",27),g(30,"i",28),s(31," Edit"),o()(),n(32,"li")(33,"a",29),u("click",function(l){let _=m(e).$implicit;return d(7).deleteRecord(_,l),v(!1)}),g(34,"i",30),s(35," Delete"),o()()()()()()}if(t&2){let e=i.$implicit;r(3),S(e.id),r(3),a("routerLink",x(19,b,"/blogs/profile/"+e.enc_id)),r(),w(" ",e.blog_data.title," "),r(2),w(" Posted: ",z(10,16,e.created_at,"fullDate")," by "),r(2),a("routerLink",x(21,b,"/users/profile/"+e.author.id)),r(),w(" ",e.author.firstName," "),r(2),a("ngSwitch",e.isenabled),r(),a("ngSwitchCase",0),r(),a("ngSwitchCase",1),r(),a("ngSwitch",e.isapproved),r(),a("ngSwitchCase",0),r(),a("ngSwitch",e.isarchive),r(),a("ngSwitchCase",1),r(),a("ngSwitch",e.isfeatured),r(),a("ngSwitchCase",1),r(7),a("routerLink",x(23,b,"/blogs/update-post/"+e.enc_id))}}function rt(t,i){if(t&1){let e=h();n(0,"div")(1,"div",10)(2,"table",11)(3,"thead")(4,"tr"),g(5,"th",12),n(6,"th"),s(7,"ID"),o(),n(8,"th"),s(9,"Title"),o(),n(10,"th"),s(11,"Status"),o(),n(12,"th",13),s(13,"Action"),o()()(),n(14,"tbody"),p(15,ot,36,25,"tr",14),o()()(),n(16,"div",15)(17,"pagination",16),M(18,"async"),u("OnSelection",function(l){m(e);let _=d(6);return v(_.paginationSelection(l))}),o()()()}if(t&2){let e,c=d().ngIf,l=d(5);r(15),a("ngForOf",c)("ngForTrackBy",l.getKey),r(2),a("currentPage",l.navQuery.pagenumber)("totalRecords",(e=Q(18,5,l.records$))!==null&&e!==void 0?e:0)("pageSize",l.navQuery.pagesize)}}function at(t,i){if(t&1&&(n(0,"div"),g(1,"app-norecord",1),o()),t&2){let e=d(6);r(),a("message",e.NoRecordText)}}function st(t,i){if(t&1&&(E(0),p(1,rt,19,7,"div",0)(2,at,2,1,"div",0),I()),t&2){let e=i.ngIf;r(),a("ngIf",e.length>0),r(),a("ngIf",e.length===0)}}function lt(t,i){if(t&1){let e=h();n(0,"div")(1,"div",2)(2,"div",3)(3,"div",4)(4,"div")(5,"input",5),ae("ngModelChange",function(l){m(e);let _=d(4);return re(_.navQuery.term,l)||(_.navQuery.term=l),v(l)}),u("keyup.enter",function(l){m(e);let _=d(4);return v(_.searchRecords(l))}),o()(),n(6,"div",6)(7,"button",7),u("click",function(){m(e);let l=d(4);return v(l.toolbarAction("add"))}),s(8," Add Post "),o(),n(9,"button",8),u("click",function(){m(e);let l=d(4);return v(l.toolbarAction("categories"))}),s(10," Manage Categories "),o()()(),n(11,"div",9),p(12,st,3,2,"ng-container",0),M(13,"async"),o()()()()}if(t&2){let e=d(4);r(5),oe("ngModel",e.navQuery.term),r(7),a("ngIf",Q(13,2,e.data$))}}function dt(t,i){t&1&&g(0,"app-loader")}function ct(t,i){if(t&1){let e=h();n(0,"div")(1,"dynamic-modal-form",37),u("OnSubmit",function(l){m(e);let _=d(5);return v(_.submitForm(l))}),o()()}if(t&2){let e=d(5);r(),a("controls",e.controls)("showLoader",e.showLoader)("showCancel",!1)("showModal",!1)("submitText",e.submitButtonText)}}function _t(t,i){if(t&1){let e=h();n(0,"div")(1,"div",33)(2,"button",34),u("click",function(l){m(e);let _=d(4);return v(_.back(l))}),s(3," Back to Listing "),o()(),n(4,"div",2)(5,"div",35)(6,"h5",36),s(7),o(),g(8,"hr"),p(9,dt,1,0,"app-loader",0)(10,ct,2,5,"div",0),o()()()}if(t&2){let e=d(4);r(7),S(e.headingTitle),r(2),a("ngIf",e.showLoader),r(),a("ngIf",!e.showLoader)}}function pt(t,i){if(t&1){let e=h();n(0,"a",44),u("click",function(l){return m(e),d(5).navAction("approve","Approve Blog Post","Are you sure you want to approve this post?",l),v(!1)}),n(1,"span"),s(2,"Approve"),o()()}}function mt(t,i){if(t&1){let e=h();n(0,"a",44),u("click",function(l){return m(e),d(5).navAction("featured","Featured Post","Are you sure you want to featured this post?",l),v(!1)}),n(1,"span"),s(2,"Featured"),o()()}}function vt(t,i){if(t&1){let e=h();n(0,"a",46),u("click",function(l){return m(e),d(5).navAction("normal","Revert Blog Post [Basic]","Are you sure you want to revert featured blog post to basic?",l),v(!1)}),n(1,"span"),s(2,"Basic"),o()()}}function ut(t,i){if(t&1){let e=h();n(0,"a",44),u("click",function(l){return m(e),d(5).navAction("enable","Enable Post","Are you sure you want to enable this post?",l),v(!1)}),n(1,"span"),s(2,"Enable"),o()()}}function gt(t,i){if(t&1){let e=h();n(0,"a",44),u("click",function(l){return m(e),d(5).navAction("disable","Deactivate Post","Are you sure you want to deactivate this post?",l),v(!1)}),n(1,"span"),s(2,"Deactivate"),o()()}}function ft(t,i){t&1&&g(0,"app-loader")}function ht(t,i){if(t&1&&(n(0,"h6")(1,"a",58),s(2),o()()),t&2){let e=d(6);r(),U("title","Browse ",e.selectedDocument.author.firstname," profile"),a("routerLink",x(4,b,"/users/profile/"+e.selectedDocument.userid)),r(),S(e.selectedDocument.author.fullName)}}function xt(t,i){if(t&1&&(n(0,"h6")(1,"a",58),s(2),o()()),t&2){let e=d(6);r(),U("title","Browse ",e.selectedDocument.author.fullName," all posts"),a("routerLink",x(4,b,"/blogs/userid/"+e.selectedDocument.userid)),r(),w("",e.selectedDocument.author.fullName," Blog Posts")}}function bt(t,i){t&1&&(n(0,"span",59),s(1," Featured Post "),o())}function yt(t,i){t&1&&(n(0,"span",59),s(1," Basic Post "),o())}function Ct(t,i){if(t&1&&(n(0,"span")(1,"a",61),s(2),o()()),t&2){let e=i.$implicit;r(),a("routerLink",x(2,b,"/blogs/categoryid/"+e.id)),r(),S(e.title)}}function St(t,i){if(t&1&&(n(0,"div"),p(1,Ct,3,4,"span",60),o()),t&2){let e=d(6);r(),a("ngForOf",e.selectedDocument.categorylist)}}function wt(t,i){t&1&&(n(0,"span"),s(1," --no categories-- "),o())}function Bt(t,i){if(t&1&&(n(0,"span")(1,"a",61),s(2),o()()),t&2){let e=i.$implicit;r(),a("routerLink",x(2,b,"/blogs/tags/"+e.slug)),r(),S(e.title)}}function Et(t,i){if(t&1&&(n(0,"div"),p(1,Bt,3,4,"span",60),o()),t&2){let e=d(6);r(),a("ngForOf",e.Tags)}}function It(t,i){t&1&&(n(0,"div"),s(1,"--no tags--"),o())}function Dt(t,i){t&1&&(n(0,"span",59),s(1,"Approved"),o())}function Mt(t,i){t&1&&(n(0,"span",62),s(1,"Pending Review"),o())}function Tt(t,i){t&1&&(n(0,"span",59),s(1,"Enabled"),o())}function kt(t,i){t&1&&(n(0,"span",63),s(1,"Inactive"),o())}function Pt(t,i){if(t&1&&(n(0,"div")(1,"div",38)(2,"div",47)(3,"div",33),g(4,"img",48),o(),n(5,"div",2)(6,"div",3)(7,"h4",36),s(8),o(),n(9,"p",49),s(10),M(11,"date"),o(),n(12,"p"),s(13),o(),n(14,"div",50)(15,"h5"),s(16,"Description"),o(),g(17,"hr")(18,"div",51),o(),n(19,"div",50)(20,"h2"),s(21,"Information"),o(),g(22,"hr"),n(23,"dl",38)(24,"dt",52)(25,"h6"),s(26,"Publisher:"),o()(),n(27,"dd",53),p(28,ht,3,6,"h6",0),o(),n(29,"dt",52)(30,"h6"),s(31,"User Posts:"),o()(),n(32,"dd",53),p(33,xt,3,6,"h6",0),o(),n(34,"dt",52)(35,"h6"),s(36,"Featured Status:"),o()(),n(37,"dd",53)(38,"h6")(39,"a",54),p(40,bt,2,0,"span",55)(41,yt,2,0,"span",55),o()()(),n(42,"dt",52)(43,"h6"),s(44,"Categories:"),o()(),n(45,"dd",53)(46,"h6"),p(47,St,2,1,"div",0)(48,wt,2,0,"span",0),o()(),n(49,"dt",52)(50,"h6"),s(51,"Tags:"),o()(),n(52,"dd",53)(53,"h6"),p(54,Et,2,1,"div",0)(55,It,2,0,"div",0),o()(),n(56,"dt",52)(57,"h6"),s(58,"Approval status:"),o()(),n(59,"dd",53)(60,"h6")(61,"a",54),p(62,Dt,2,0,"span",55)(63,Mt,2,0,"span",56),o()()(),n(64,"dt",52)(65,"h6"),s(66,"Enable status:"),o()(),n(67,"dd",53)(68,"h6")(69,"a",54),p(70,Tt,2,0,"span",55)(71,kt,2,0,"span",57),o()()()()()()()()()()),t&2){let e=d(5);r(4),ne("title",e.selectedDocument.blog_data.title),a("src",e.selectedDocument.cover,ee),r(4),w(" ",e.selectedDocument.blog_data.title," "),r(2),w(" Posted: ",z(11,21,e.selectedDocument.created_at,"fullDate")," "),r(3),S(e.selectedDocument.blog_data.short_description),r(5),a("innerHTML",e.selectedDocument.blog_data.description,Z),r(10),a("ngIf",e.selectedDocument.author.fullName!==void 0),r(5),a("ngIf",e.selectedDocument.author.fullName!==void 0),r(6),a("routerLink",x(24,b,"/blogs/isfeatured/"+e.selectedDocument.isfeatured)),r(),a("ngIf",e.selectedDocument.isfeatured===1),r(),a("ngIf",e.selectedDocument.isfeatured===0),r(6),a("ngIf",e.selectedDocument.categorylist!=null&&e.selectedDocument.categorylist.length>0),r(),a("ngIf",e.selectedDocument.category_list===null||e.selectedDocument.category_list!=null&&e.selectedDocument.category_list.length===0),r(6),a("ngIf",e.Tags.length>0),r(),a("ngIf",e.Tags.length===0),r(6),a("routerLink",x(26,b,"/blogs/isapproved/"+e.selectedDocument.isapproved)),r(),a("ngIf",e.selectedDocument.isapproved),r(),a("ngIf",!e.selectedDocument.isapproved),r(6),a("routerLink",x(28,b,"/blogs/isenabled/"+e.selectedDocument.isenabled)),r(),a("ngIf",e.selectedDocument.isenabled),r(),a("ngIf",!e.selectedDocument.isenabled)}}function Rt(t,i){if(t&1){let e=h();n(0,"div")(1,"div",33)(2,"button",34),u("click",function(l){m(e);let _=d(4);return v(_.back(l))}),s(3," Back to Listing "),o(),n(4,"button",34),u("click",function(l){m(e);let _=d(4);return v(_.edit(l))}),s(5," Edit Information "),o()(),n(6,"div",38)(7,"div",39)(8,"div",2)(9,"div",3)(10,"div",40)(11,"div",41),p(12,pt,3,0,"a",42)(13,mt,3,0,"a",42)(14,vt,3,0,"a",43)(15,ut,3,0,"a",42)(16,gt,3,0,"a",42),n(17,"a",44),u("click",function(l){return m(e),d(4).navAction("delete","Delete Blog Post","Are you sure you want to delete this blog post?",l),v(!1)}),n(18,"span"),s(19,"Delete"),o()()()()()()(),n(20,"div",45),p(21,ft,1,0,"app-loader",0)(22,Pt,72,30,"div",0),o()()()}if(t&2){let e=d(4);r(12),a("ngIf",e.selectedDocument.isapproved===0&&e.selectedDocument.isdraft===0),r(),a("ngIf",e.selectedDocument.isfeatured===0&&e.selectedDocument.isdraft===0),r(),a("ngIf",e.selectedDocument.isfeatured===1&&e.selectedDocument.isdraft===0),r(),a("ngIf",e.selectedDocument.isenabled===0&&e.selectedDocument.isdraft===0),r(),a("ngIf",e.selectedDocument.isenabled===1&&e.selectedDocument.isdraft===0),r(5),a("ngIf",e.showLoader),r(),a("ngIf",!e.showLoader)}}function Ft(t,i){if(t&1&&(n(0,"div"),p(1,lt,14,4,"div",0)(2,_t,11,3,"div",0)(3,Rt,23,7,"div",0),o()),t&2){let e=d(3);r(),a("ngIf",e.pageIndex==="_INDEX_"),r(),a("ngIf",e.pageIndex==="_CREATE_"||e.pageIndex==="_UPDATE_"),r(),a("ngIf",e.pageIndex==="_PROFILE_")}}function Lt(t,i){if(t&1&&(n(0,"div"),g(1,"app-norecord",1),o()),t&2){let e=d(3);r(),a("message",e.errorMessage)}}function At(t,i){if(t&1&&(n(0,"div"),p(1,Ft,4,3,"div",0)(2,Lt,2,1,"div",0),o()),t&2){let e=d(2);r(),a("ngIf",e.errorMessage===""),r(),a("ngIf",e.errorMessage!=="")}}function Ot(t,i){if(t&1&&(n(0,"div"),p(1,Ke,2,1,"div",0)(2,At,3,2,"div",0),o()),t&2){let e=d();r(),a("ngIf",!e.pageRole.admin),r(),a("ngIf",e.pageRole.admin&&e.pageInit)}}var y=class t{store=f(fe);formService=f(k);blogService=f(G);route=f(xe);router=f(be);coreService=f(A);titleService=f(ge);appConfig=f(F);modalService=f(Ae);location=f(le);auth$=this.store.select(Ce);config$=this.store.select(Re);loading$=this.store.select($e);data$=this.store.select(ze);records$=this.store.select(je);navQuery=C({},T);isAuthenticated=!1;User=C({},j);Settings=C({},Ue);selectedDocument=C({},Qe);Tags=[];configs=[];pageRole=Pe;navButton="Find Records";pageIndex="_INDEX_";errorMessage="";pageInit=!1;showLoader=!1;NoRecordText="No Records Found!";submitButtonText="Submit";headingTitle="Add Post";controls=[];destroy$=new J;ngOnInit(){this.initializeAuthSubscription()}initializeAuthSubscription(){this.auth$.pipe(B(this.destroy$),N(i=>{i.length>0&&i[0].isAuthenticated&&(this.isAuthenticated=!0,this.User=i[0].User??C({},j),this.pageRole=this.coreService.processRole(i[0].Role||[]),this.loadAppConfigs())})).subscribe()}loadAppConfigs(){this.config$.pipe(B(this.destroy$),N(i=>{i.length>0&&(this.configs=i,this.navQuery.pagesize=this.configs[0].configs.settings.general.pageSize,this.initializeRouteListener())})).subscribe()}initializeRouteListener(){this.route.params.pipe(B(this.destroy$)).subscribe(i=>{this.coreService.bindParams(this.navQuery,i),this.initializeRouteData()})}initializeRouteData(){let i=this.route.snapshot.firstChild?.data||this.route.snapshot.data;i.key&&(this.pageIndex=i.key),i.title&&this.titleService.setTitle(`${i.title} - ${this.appConfig.getConfig("title")}`),this.initializePage(),this.pageInit=!0}initializePage(){switch(this.pageIndex){case"_INDEX_":this.initializeManageListings();break;case"_CREATE_":case"_UPDATE_":this.initializeCreateUpdate();break;case"_PROFILE_":this.initializeProfile();break;default:this.handleUnknownPage();break}}initializeManageListings(){this.store.dispatch(O({Query:this.navQuery}))}initializeCreateUpdate(){if(this.navQuery.id!==0&&(this.navQuery.id=parseInt(this.coreService.decrypt(this.navQuery.id?.toString()),10)),this.pageIndex==="_UPDATE_"&&!this.navQuery.id){this.errorMessage="Missing record information";return}this.headingTitle=this.pageIndex==="_UPDATE_"?"Update Post":"Create Post",this.pageIndex==="_UPDATE_"?this.navQuery.id?this.loadDocument(this.navQuery.id):this.errorMessage="Invalid record ID":this.initializeControls()}initializeProfile(){if(this.navQuery.id!==0&&(this.navQuery.id=parseInt(this.coreService.decrypt(this.navQuery.id?.toString()),10)),!this.navQuery.id){this.errorMessage="Invalid record ID";return}this.loadDocument(this.navQuery.id)}handleUnknownPage(){this.errorMessage=`Unknown page: ${this.pageIndex}`}loadDocument(i){this.showLoader=!0,this.blogService.GetInfo(X(C({},T),{id:i})).pipe(B(this.destroy$)).subscribe({next:e=>{e.status==="error"?this.showNotification(e.message??"Unknown error","danger"):e.record&&this.handleDocumentResponse(e.record),this.showLoader=!1},error:e=>{this.showNotification("Failed to load document","danger"),this.showLoader=!1}})}handleDocumentResponse(i){this.selectedDocument=i,this.pageIndex==="_PROFILE_"?(this.selectedDocument.enc_id=this.coreService.encrypt(this.selectedDocument.id),this.selectedDocument.tags&&(this.Tags=this.coreService.ProcessTags(this.selectedDocument.tags.split(",")))):this.initializeControls()}initializeControls(){this.controls=this.formService.generateControls(this.selectedDocument,this.configs)}submitForm(i){this.validateForm(i)&&(this.prepareBlogForSubmission(i),this.processBlogSubmission())}validateForm(i){return i.blog_culture_data?.length?i.categorylist?.length?!0:(this.showNotification("Please select one or more categories","danger"),!1):(this.showNotification("Please add one or more culture","danger"),!1)}prepareBlogForSubmission(i){Object.assign(this.selectedDocument,i),this.selectedDocument.userid=this.User.id,this.selectedDocument.categories=this.selectedDocument.categorylist||[],this.selectedDocument.categorylist=null,this.selectedDocument.isdraft=parseInt(this.selectedDocument.isdraft.toString()),this.selectedDocument.isarchive=0}processBlogSubmission(){this.showLoader=!0,this.blogService.ProcessRecord(this.selectedDocument).pipe(B(this.destroy$)).subscribe({next:i=>{i.status==="error"?this.showNotification(i.message??"Unknown error","danger"):this.handleSuccessfulSubmission(i),this.showLoader=!1},error:i=>{this.showNotification("Failed to submit blog","danger"),this.showLoader=!1}})}handleSuccessfulSubmission(i){let e=this.selectedDocument.id===0?"added":"updated";i.record&&(this.selectedDocument=i.record),this.showNotification(`Record ${e} successfully!`,"success"),this.router.navigate(["/blogs"])}showNotification(i,e){this.store.dispatch(he({title:i,text:"",css:`bg-${e}`}))}searchRecords(i){this.navQuery.pagenumber=1,this.store.dispatch(O({Query:this.navQuery}))}paginationSelection(i){this.navQuery.pagenumber=i,this.store.dispatch(O({Query:this.navQuery}))}toolbarAction(i){switch(i){case"add":this.router.navigate(["/blogs/create-post"]);break;case"categories":this.router.navigate(["/categories/2"]);break}}deleteRecord(i,e){this.openConfirmationDialog("Delete Record","Are you sure you want to delete selected record",()=>{this.store.dispatch(H({Entities:[i],actionstatus:"delete"}))},e)}navAction(i,e,c,l){this.openConfirmationDialog(e,c,()=>{this.store.dispatch(H({Entities:[this.selectedDocument],actionstatus:i})),i==="delete"&&this.router.navigate(["/blogs"])},l)}openConfirmationDialog(i,e,c,l){l.stopPropagation();let _=this.modalService.open(Ve,{backdrop:!1});_.componentInstance.Info={title:i,message:e},_.result.then(()=>c(),()=>console.log("Dialog dismissed"))}edit(i){i.stopPropagation(),this.router.navigate([`/blogs/update-post/${this.selectedDocument.enc_id}`])}back(i){i.stopPropagation(),this.location.back()}getKey(i,e){return e.id}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=te({type:t,selectors:[["app-main-blogs"]],features:[se([k,G])],decls:1,vars:1,consts:[[4,"ngIf"],[3,"message"],[1,"card"],[1,"card-body"],[1,"d-flex","justify-content-between"],["type","text","placeholder","Search Blog Posts...",1,"form-control",3,"ngModelChange","keyup.enter","ngModel"],[1,"d-flex"],[1,"btn","btn-primary","me-1",3,"click"],[1,"btn","btn-secondary",3,"click"],[1,"mt-4","mb-4"],[1,"table-responsive"],[1,"table","align-middle","mb-0"],[2,"width","5px"],[1,"text-nowrap"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"d-flex","justify-content-cent","mt-3"],[3,"OnSelection","currentPage","totalRecords","pageSize"],[1,"mb-1","font-18"],[3,"routerLink"],[1,"mb-1"],[3,"ngSwitch"],["class","badge rounded-pill bg-light-danger text-danger",4,"ngSwitchCase"],["class","badge rounded-pill bg-light-success text-success",4,"ngSwitchCase"],[1,"dropdown","options","ms-auto"],["data-bs-toggle","dropdown",1,"dropdown-toggle","dropdown-toggle-nocaret"],[1,"bx","bx-dots-horizontal-rounded"],[1,"dropdown-menu"],[1,"dropdown-item",3,"routerLink"],[1,"bx","bx-pencil"],["href","javascript:;",1,"dropdown-item",3,"click"],[1,"bx","bx-trash"],[1,"badge","rounded-pill","bg-light-danger","text-danger"],[1,"badge","rounded-pill","bg-light-success","text-success"],[1,"mb-3"],[1,"btn","btn-secondary","me-1",3,"click"],[1,"card-body","p-4"],[1,"card-title"],[3,"OnSubmit","controls","showLoader","showCancel","showModal","submitText"],[1,"row"],[1,"col-12","col-lg-3"],[1,"fm-menu"],[1,"list-group","list-group-flush"],["href","javascript:;","class","list-group-item py-1",3,"click",4,"ngIf"],["href","javascript:;","title","Revert to basic post","class","list-group-item py-1",3,"click",4,"ngIf"],["href","javascript:;",1,"list-group-item","py-1",3,"click"],[1,"col-12","col-lg-9"],["href","javascript:;","title","Revert to basic post",1,"list-group-item","py-1",3,"click"],[1,"col-md-12"],[1,"img-fluid",3,"src","title"],[1,"mb-2"],[1,"border","border-3","p-4","rounded","mb-3"],[3,"innerHTML"],[1,"col-sm-3","mb-2"],[1,"col-sm-9","mb-2"],[1,"me-1",3,"routerLink"],["class","text-success",4,"ngIf"],["class","text-warning",4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-success","text-decoration-underline",3,"routerLink","title"],[1,"text-success"],[4,"ngFor","ngForOf"],[1,"badge","rounded-pill","bg-light-danger","text-danger","me-1",3,"routerLink"],[1,"text-warning"],[1,"text-danger"]],template:function(e,c){e&1&&p(0,Ot,3,2,"div",0),e&2&&a("ngIf",c.isAuthenticated)},dependencies:[ce,de,_e,pe,me,ve,R,ye,L,Se,we,Be,Fe,Le,Oe,Ne],encapsulation:2})};var qe=[{path:"",data:{key:"_INDEX_",title:"Manage Blogs",breadcrumb:[{label:"Dashboard",url:"/"},{label:"Blogs",url:""}]},component:y},{path:"create-post",data:{key:"_CREATE_",title:"Create Post",breadcrumb:[{label:"Dashboard",url:"/"},{label:"Blogs",url:""}]},component:y},{path:"update-post/:id",data:{key:"_UPDATE_",title:"Update Post",breadcrumb:[{label:"Dashboard",url:"/"},{label:"Blogs",url:""}]},component:y},{path:"profile/:id",data:{key:"_PROFILE_",title:"Detail Profile",breadcrumb:[{label:"Dashboard",url:"/"},{label:"Blogs",url:""}]},component:y}];for(let t in T)qe.push({path:t+"/:"+t,data:{title:"Manage Blogs - Filter By "+t,breadcrumb:[{label:"Dashboard",url:"/"},{label:"Blogs",url:"/blogs"},{label:"Filter By: "+t,url:""}]},component:y});var He=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=ie({type:t});static \u0275inj=K({imports:[ue,L,Ee,R.forChild(qe),y]})};export{He as MainBlogModule};
